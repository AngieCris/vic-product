
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Using vSphere Integrated Containers Engine with vSphere Integrated Containers Registry (Harbor) Â· Developing Container Applications with VMware vSphere Integrated Containers 0.8</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="network_use_cases.html" />
    
    
    <link rel="prev" href="using_registries_with_vic.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="overview_of_vic_engine.html">
            
                <a href="overview_of_vic_engine.html">
            
                    
                    Overview of vSphere Integrated Containers Engine For Container Application Developers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="container_operations.html">
            
                <a href="container_operations.html">
            
                    
                    Supported Docker Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="container_limitations.html">
            
                <a href="container_limitations.html">
            
                    
                    Use and Limitations of Containers in vSphere Integrated Containers Engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="obtain_vch.html">
            
                <a href="obtain_vch.html">
            
                    
                    Obtain a VCH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="using_volumes_with_vic.html">
            
                <a href="using_volumes_with_vic.html">
            
                    
                    Using Volumes with vSphere Integrated Containers Engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="using_registries_with_vic.html">
            
                <a href="using_registries_with_vic.html">
            
                    
                    Using Private Registry Servers with vSphere Integrated Containers Engine
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.8" data-path="using_vic_with_harbor.html">
            
                <a href="using_vic_with_harbor.html">
            
                    
                    Using vSphere Integrated Containers Engine with vSphere Integrated Containers Registry (Harbor)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="network_use_cases.html">
            
                <a href="network_use_cases.html">
            
                    
                    Container Networking with vSphere Integrated Containers Engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="creating_containerized_app_with_vic.html">
            
                <a href="creating_containerized_app_with_vic.html">
            
                    
                    Creating a Containerized Application
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="constraints_using_vic.html">
            
                <a href="constraints_using_vic.html">
            
                    
                    Constraints of Using vSphere Integrated Containers Engine to Build Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="build_app_with_vic.html">
            
                <a href="build_app_with_vic.html">
            
                    
                    Example of Building an Application with vSphere Integrated Containers Engine
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="ts_docker_version_error.html">
            
                <a href="ts_docker_version_error.html">
            
                    
                    Docker Commands Fail with a Docker API Version Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="ts_volume_store_error.html">
            
                <a href="ts_volume_store_error.html">
            
                    
                    Default Volume Store Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="ts_bridge_pool_mask_error.html">
            
                <a href="ts_bridge_pool_mask_error.html">
            
                    
                    Bridge Pool Mask Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="feedback.html">
            
                <a href="feedback.html">
            
                    
                    Send Documentation Feedback
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Using vSphere Integrated Containers Engine with vSphere Integrated Containers Registry (Harbor)</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="using-vsphere-integrated-containers-engine-with-vsphere-integrated-containers-registry-harbor">Using vSphere Integrated Containers Engine with vSphere Integrated Containers Registry (Harbor)</h1>
<p>This example illustrates using a deployed Virtual Container Host (VCH) with Harbor as a private registry with the assumption that a VCH has been set up using either static IP or FQDN.  It also assumes there is access to standard Docker that has been updated with the CA certificate used to sign the Harbor instance&apos;s server certificate and server private key.</p>
<h2 id="workflow">Workflow</h2>
<ol>
<li>Develop or obtain a docker container image on a computer or terminal using standard docker. Tag the image for Harbor and push the image to the server.</li>
<li>Pull down the image from Harbor to a deployed VCH and use it.</li>
</ol>
<h2 id="push-a-container-image-to-harbor-using-standard-docker">Push a Container Image to Harbor Using Standard Docker</h2>
<ol>
<li>Pull the busybox container image from the docker hub to your machine, which you  have updated with the CA certificate earlier. See <a href="../vic_installation/deploy_vch_harbor.html">Deploy a VCH with vSphere Integrated Containers Registry (Harbor)</a> for more information on updating certificates.</li>
<li>Tag the image for uploading to your Harbor registry and push the image up to it. </li>
</ol>
<p><strong>Important</strong> You must log onto the Harbor server before pushing the image up to it.</p>
<pre><code>user@Devbox:~/mycerts$ docker pull busybox
Using default tag: latest
latest: Pulling from library/busybox

56bec22e3559: Pull complete 
Digest: sha256:digest
Status: Downloaded newer image for busybox:latest
user@Devbox:~/mycerts$ 
user@Devbox:~/mycerts$ docker tag busybox &lt;Harbor FQDN or static
IP&gt;/test/busybox

user@Devbox:~/mycerts$ docker login &lt;Harbor FQDN or static IP&gt;
Username: user
Password: 
Login Succeeded

user@Devbox:~/mycerts$ docker push &lt;Harbor FQDN or static IP&gt;/test/busybox
The push refers to a repository [&lt;Harbor FQDN or static IP&gt;/test/busybox]
e88b3f82283b: Pushed 
latest: digest: sha256:digest size: 527
</code></pre><h2 id="pull-the-image-from-harbor-to-the-vch">Pull the Image from Harbor to the VCH</h2>
<p>In another terminal, pull the image from Harbor to the VCH.</p>
<pre><code>user@Devbox:~$ export DOCKER_HOST=tcp://&lt;Deployed VCH IP&gt;:2375
user@Devbox:~$ export DOCKER_API_VERSION=1.23
user@Devbox:~$ docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE

user@Devbox:~$ docker pull &lt;Harbor FQDN or static IP&gt;/test/busybox
Using default tag: latest
Pulling from test/busybox
Error: image test/busybox not found

user@Devbox:~$ docker login &lt;Harbor FQDN or static IP&gt;
Username: user
Password: 
Login Succeeded

user@Devbox:~$ docker pull &lt;Harbor FQDN or static IP&gt;/test/busybox
Using default tag: latest
Pulling from test/busybox
56bec22e3559: Pull complete 
a3ed95caeb02: Pull complete 
Digest: sha256:digest
Status: Downloaded newer image for test/busybox:latest

user@Devbox:~$ docker images
REPOSITORY                                TAG        IMAGE ID      CREATED            SIZE
&lt;Harbor FQDN or static IP&gt;/test/busybox   latest     e292aa76ad3b        5 weeks ago         1.093 MB
user@Devbox:~$ 
</code></pre><p>Note that the first attempt to pull the image fails with a &apos;not found&apos; error message. After you log into the Harbor server, the pull attempt succeeds.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="using_registries_with_vic.html" class="navigation navigation-prev " aria-label="Previous page: Using Private Registry Servers with vSphere Integrated Containers Engine">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="network_use_cases.html" class="navigation navigation-next " aria-label="Next page: Container Networking with vSphere Integrated Containers Engine">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Using vSphere Integrated Containers Engine with vSphere Integrated Containers Registry (Harbor)","level":"1.8","depth":1,"next":{"title":"Container Networking with vSphere Integrated Containers Engine","level":"1.9","depth":1,"path":"network_use_cases.md","ref":"network_use_cases.md","articles":[]},"previous":{"title":"Using Private Registry Servers with vSphere Integrated Containers Engine","level":"1.7","depth":1,"path":"using_registries_with_vic.md","ref":"using_registries_with_vic.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageBreaksBefore":"/","headerTemplate":"_TITLE_","paperSize":"a4","margin":{"right":62,"left":62,"top":56,"bottom":56},"fontSize":12,"fontFamily":"Arial","footerTemplate":"_PAGENUM_","chapterMark":"pagebreak","pageNumbers":true},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Developing Container Applications with VMware vSphere Integrated Containers 0.8","gitbook":"*"},"file":{"path":"using_vic_with_harbor.md","mtime":"2017-02-21T09:25:38.575Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-02-23T14:01:00.913Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

